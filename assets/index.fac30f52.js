import{d as F,c as d,h as l,i as v,k as z,l as p,al as R,aB as V,m as o,n as h,j as c,ab as $,a_ as w,dI as H,t as x,q as k,bY as q,aD as N,g as A,y as P,z as U,_ as L}from"./index.f2f4e5af.js";import{E as Q,_ as Y}from"./empty.ab6a681e.js";import{E as G,a as J}from"./col.f1267745.js";import{v as B}from"./index.06d45199.js";const K=t=>(P("data-v-6905bcf1"),t=t(),U(),t),M={class:"table-card-item"},W={class:"table-card-item__content"},X={class:"table-card-item__operator"},Z={key:0,class:"empty-img"},ee=K(()=>c("img",{src:Y},null,-1)),te=[ee],ae={class:"mt20px flex flex-row-reverse"},oe=F({__name:"index",props:{url:{type:Function,require:!0},showSetting:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},authority:{type:Object,default:()=>({edit:[],delete:[]})},responseType:{type:Object,default:()=>({data:"data",list:"items",resultCode:"code",pageObj:!1,totalRow:"total"})},successCode:{type:[Number,String],default:200},page:{type:Object,default:()=>({pageSize:"pageSize",pageNum:"pageNum",pageObj:"",layout:"total, sizes, prev, pager, next, jumper"})},pageSizes:{type:Array,default:()=>[9,18,27,36]},pageSize:{type:Number,default:9}},emits:["click","delete","edit"],setup(t,{expose:T,emit:_}){const a=t,g=d([]),b=d(0),i=d(a.pageSize),u=d(1),j=()=>{const e={};return e[a.page.pageSize]=i.value,e[a.page.pageNum]=u.value,e},m=()=>{if(!a.url)return;const e=j();a.url(e).then(n=>{if(a.successCode!==n[a.responseType.resultCode])return;const r=n[a.responseType.data],y=r[a.responseType.list],f=r[a.responseType.totalRow];g.value=y,b.value=f})},E=e=>{_("click",e)},D=e=>{_("edit",e)},I=e=>{_("delete",e)};return T({search:m}),(e,n)=>{const r=A,y=G,f=J,O=Q;return l(),v("div",null,[z(f,{class:"table-card",gutter:20},{default:p(()=>[(l(!0),v(R,null,V(o(g),(s,C)=>(l(),h(y,{key:C,span:8,onClick:S=>E(s)},{default:p(()=>[c("div",M,[c("div",W,[$(e.$slots,"default",{element:s,index:C},void 0,!0)]),c("div",X,[t.showSetting?w((l(),h(r,{key:0,link:"",type:"primary",icon:o(H),onClick:S=>D(s)},{default:p(()=>[x("\u7F16\u8F91")]),_:2},1032,["icon","onClick"])),[[o(B),t.authority.edit]]):k("",!0),t.showDelete?w((l(),h(r,{key:1,link:"",type:"danger",icon:o(q),onClick:S=>I(s)},{default:p(()=>[x("\u5220\u9664")]),_:2},1032,["icon","onClick"])),[[o(B),t.authority.delete]]):k("",!0)])])]),_:2},1032,["onClick"]))),128))]),_:3}),o(g)?k("",!0):(l(),v("div",Z,te)),c("div",ae,[z(O,{"current-page":o(u),"onUpdate:currentPage":n[0]||(n[0]=s=>N(u)?u.value=s:null),"page-size":o(i),"onUpdate:pageSize":n[1]||(n[1]=s=>N(i)?i.value=s:null),small:"",background:"","page-sizes":t.pageSizes,layout:t.page.layout,total:o(b),onSizeChange:m,onCurrentChange:m},null,8,["current-page","page-size","page-sizes","layout","total"])])])}}});const ce=L(oe,[["__scopeId","data-v-6905bcf1"]]);export{ce as _};
