var Y=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var K=(i,t,e)=>t in i?Y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,T=(i,t)=>{for(var e in t||(t={}))le.call(t,e)&&K(i,e,t[e]);if(U)for(var e of U(t))se.call(t,e)&&K(i,e,t[e]);return i},z=(i,t)=>ee(i,te(t));import{d as F,af as G,bi as ae,aq as M,a6 as Z,bj as $,bk as ne,Z as H,m as a,h as f,i as y,j as D,al as k,aB as P,n as j,k as m,ad as J,aO as re,a5 as oe,an as ie,a8 as ue,a4 as ce,ac as C,ab as W,t as N,au as A,q as pe,bl as de,aw as me,ax as fe,a as be,b as he,c as V,o as _e,bm as ge,l as E,aC as ve,e as ye,bn as De,x as q,bo as Ee,bp as we,g as Se}from"./index.f2f4e5af.js";import{E as ke}from"./card.2dd1dae5.js";import{E as Fe}from"./image-viewer.3fecd8e6.js";import{T as Be}from"./index.f4ef202d.js";import{r as Ce}from"./index.bf800284.js";import"./empty.ab6a681e.js";const L=Symbol("elDescriptions");var x=F({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:G(L,{})}},render(){var i,t,e,S,u,s;const c=ae(this.cell),{border:g,direction:l}=this.descriptions,b=l==="vertical",h=((e=(t=(i=this.cell)==null?void 0:i.children)==null?void 0:t.label)==null?void 0:e.call(t))||c.label,d=(s=(u=(S=this.cell)==null?void 0:S.children)==null?void 0:u.default)==null?void 0:s.call(u),_=c.span,w=c.align?`is-${c.align}`:"",v=c.labelAlign?`is-${c.labelAlign}`:w,n=c.className,p=c.labelClassName,r={width:M(c.width),minWidth:M(c.minWidth)},o=Z("descriptions");switch(this.type){case"label":return $(this.tag,{style:r,class:[o.e("cell"),o.e("label"),o.is("bordered-label",g),o.is("vertical-label",b),v,p],colSpan:b?_:1},h);case"content":return $(this.tag,{style:r,class:[o.e("cell"),o.e("content"),o.is("bordered-content",g),o.is("vertical-content",b),w,n],colSpan:b?_:_*2-1},d);default:return $("td",{style:r,class:[o.e("cell"),w],colSpan:_},[ne(h)?void 0:$("span",{class:[o.e("label"),p]},h),$("span",{class:[o.e("content"),n]},d)])}}});const Ne=H({row:{type:Array,default:()=>[]}}),Ie={key:1},$e=F({name:"ElDescriptionsRow"}),xe=F(z(T({},$e),{props:Ne,setup(i){const t=G(L,{});return(e,S)=>a(t).direction==="vertical"?(f(),y(k,{key:0},[D("tr",null,[(f(!0),y(k,null,P(e.row,(u,s)=>(f(),j(a(x),{key:`tr1-${s}`,cell:u,tag:"th",type:"label"},null,8,["cell"]))),128))]),D("tr",null,[(f(!0),y(k,null,P(e.row,(u,s)=>(f(),j(a(x),{key:`tr2-${s}`,cell:u,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(f(),y("tr",Ie,[(f(!0),y(k,null,P(e.row,(u,s)=>(f(),y(k,{key:`tr3-${s}`},[a(t).border?(f(),y(k,{key:0},[m(a(x),{cell:u,tag:"td",type:"label"},null,8,["cell"]),m(a(x),{cell:u,tag:"td",type:"content"},null,8,["cell"])],64)):(f(),j(a(x),{key:1,cell:u,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}}));var Ae=J(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Re=H({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:re,title:{type:String,default:""},extra:{type:String,default:""}}),Te=F({name:"ElDescriptions"}),ze=F(z(T({},Te),{props:Re,setup(i){const t=i,e=Z("descriptions"),S=oe(),u=ie();ue(L,t);const s=ce(()=>[e.b(),e.m(S.value)]),c=(l,b,h,d=!1)=>(l.props||(l.props={}),b>h&&(l.props.span=h),d&&(l.props.span=b),l),g=()=>{var l;const b=de((l=u.default)==null?void 0:l.call(u)).filter(v=>{var n;return((n=v==null?void 0:v.type)==null?void 0:n.name)==="ElDescriptionsItem"}),h=[];let d=[],_=t.column,w=0;return b.forEach((v,n)=>{var p;const r=((p=v.props)==null?void 0:p.span)||1;if(n<b.length-1&&(w+=r>_?_:r),n===b.length-1){const o=t.column-w%t.column;d.push(c(v,o,_,!0)),h.push(d);return}r<_?(_-=r,d.push(v)):(d.push(c(v,r,_)),h.push(d),_=t.column,d=[])}),h};return(l,b)=>(f(),y("div",{class:C(a(s))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(f(),y("div",{key:0,class:C(a(e).e("header"))},[D("div",{class:C(a(e).e("title"))},[W(l.$slots,"title",{},()=>[N(A(l.title),1)])],2),D("div",{class:C(a(e).e("extra"))},[W(l.$slots,"extra",{},()=>[N(A(l.extra),1)])],2)],2)):pe("v-if",!0),D("div",{class:C(a(e).e("body"))},[D("table",{class:C([a(e).e("table"),a(e).is("bordered",l.border)])},[D("tbody",null,[(f(!0),y(k,null,P(g(),(h,d)=>(f(),j(Ae,{key:d,row:h},null,8,["row"]))),128))])],2)],2)],2))}}));var Pe=J(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),Q=F({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const je=me(Pe,{DescriptionsItem:Q}),Ve=fe(Q);const Le={class:"app-container"},Oe=D("h4",null,"\u89D2\u8272\u4FE1\u606F",-1),Ue={class:"flex justify-center mt10px"},Je=F({__name:"authRole",setup(i){const t=be(),e=he(),{params:S}=t,{userId:u}=S,s=V(),c=V(),g=V(),l=ye(()=>{g.value&&g.value.search()},200);_e(()=>{h(),l()});function b(n){return Ce(z(T({},n),{orderByColumn:"roleId",isAsc:"desc"}))}function h(){ge(u).then(n=>{const{data:p}=n;s.value=p})}function d(){var p;const n=(p=c.value)==null?void 0:p.filter(r=>{var o,R;return(o=s.value)!=null&&o.roles?(R=s.value)==null?void 0:R.roles.some(B=>B.roleId===r.roleId):!1});g.value&&g.value.triggerRecordsAll(n)}function _(n){const{data:{items:p}}=n;c.value=[...p],d()}function w(){!s.value||De.confirm(`\u786E\u5B9A\u8981\u7ED9[${s.value.nickname}]\u91CD\u65B0\u5206\u914D\u89D2\u8272\u5417\uFF1F`,"\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{if(!g.value)return;const{recordRows:n}=g.value,p=n.map(r=>r.roleId);if(p.length===0){q.error("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u540D\u89D2\u8272");return}Ee({userId:u,roleIds:p}).then(r=>{r.code===200&&(q.success("\u5206\u914D\u89D2\u8272\u6210\u529F"),e.go(0))})}).catch(()=>{})}function v(){e.go(-1)}return(n,p)=>{const r=Ve,o=Fe,R=je,B=we,O=Se,X=ke;return f(),y("div",Le,[m(X,null,{default:E(()=>[m(R,{title:"\u57FA\u672C\u4FE1\u606F",column:3,border:""},{default:E(()=>[m(r,{label:"\u7528\u6237\u6635\u79F0","label-align":"right",align:"center",width:"150px"},{default:E(()=>[N(A(a(s)&&a(s).nickname),1)]),_:1}),m(r,{label:"\u7528\u6237\u8D26\u53F7","label-align":"right",align:"center",width:"150px"},{default:E(()=>[N(A(a(s)&&a(s).username),1)]),_:1}),m(r,{label:"\u7528\u6237\u5934\u50CF","label-align":"right",align:"center",width:"150px"},{default:E(()=>{var I;return[m(o,{class:"w-50px h-50px",src:(I=a(s))==null?void 0:I.avatar},null,8,["src"])]}),_:1})]),_:1}),Oe,m(Be,{ref_key:"tableRef",ref:g,"primary-key":"roleId","page-size":50,"page-sizes":[50],url:b,onOnSuccess:_},{default:E(()=>[m(B,{label:"\u89D2\u8272\u7F16\u53F7",prop:"roleId",align:"center"}),m(B,{label:"\u89D2\u8272\u540D\u79F0",prop:"roleName",align:"center"}),m(B,{label:"\u6743\u9650\u5B57\u7B26",prop:"roleKey",align:"center"}),m(B,{label:"\u521B\u5EFA\u65F6\u95F4",width:"150px",align:"center"},{default:E(({row:I})=>[D("span",null,A(I.createTime&&a(ve)(I.createTime,"{y}-{m}-{d} {h}:{i}")),1)]),_:1})]),_:1},512),D("div",Ue,[m(O,{type:"primary",onClick:w},{default:E(()=>[N("\u63D0\u4EA4")]),_:1}),m(O,{onClick:v},{default:E(()=>[N("\u8FD4\u56DE")]),_:1})])]),_:1})])}}});export{Je as default};
