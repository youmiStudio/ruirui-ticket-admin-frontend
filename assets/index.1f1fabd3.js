import{d as y,c as r,am as E,o as k,h as t,i as a,k as i,l as _,j as e,m as l,au as o,q as c}from"./index.f2f4e5af.js";import{E as C,a as D}from"./col.f1267745.js";import{E as g}from"./card.2dd1dae5.js";import{o as x,c as A}from"./useLoading.c96d7da5.js";import{c as B}from"./index.cc7b76a2.js";import{u as h}from"./useECharts.2e1844da.js";import"./is.1291effc.js";const w={class:"app-container"},O=e("div",{slot:"header"},[e("span",null,"\u57FA\u672C\u4FE1\u606F")],-1),S={class:"el-table el-table--enable-row-hover el-table--medium"},R={cellspacing:"0",style:{width:"100%"}},I=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Redis\u7248\u672C")],-1),N={class:"el-table__cell is-leaf"},V={key:0,class:"cell"},z=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u8FD0\u884C\u6A21\u5F0F")],-1),L={class:"el-table__cell is-leaf"},T={key:0,class:"cell"},j=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u7AEF\u53E3")],-1),q={class:"el-table__cell is-leaf"},K={key:0,class:"cell"},M=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u5BA2\u6237\u7AEF\u6570")],-1),P={class:"el-table__cell is-leaf"},U={key:0,class:"cell"},G=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u8FD0\u884C\u65F6\u95F4(\u5929)")],-1),H={class:"el-table__cell is-leaf"},J={key:0,class:"cell"},Q=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u4F7F\u7528\u5185\u5B58")],-1),W={class:"el-table__cell is-leaf"},X={key:0,class:"cell"},Y=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u4F7F\u7528CPU")],-1),Z={class:"el-table__cell is-leaf"},$={key:0,class:"cell"},ee=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u5185\u5B58\u914D\u7F6E")],-1),se={class:"el-table__cell is-leaf"},le={key:0,class:"cell"},te=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"AOF\u662F\u5426\u5F00\u542F")],-1),ae={class:"el-table__cell is-leaf"},oe={key:0,class:"cell"},ce=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"RDB\u662F\u5426\u6210\u529F")],-1),ie={class:"el-table__cell is-leaf"},_e={key:0,class:"cell"},ne=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Key\u6570\u91CF")],-1),de={class:"el-table__cell is-leaf"},ue={key:0,class:"cell"},re=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3")],-1),fe={class:"el-table__cell is-leaf"},me={key:0,class:"cell"},he=e("div",{slot:"header"},[e("span",null,"\u547D\u4EE4\u7EDF\u8BA1")],-1),be={class:"el-table el-table--enable-row-hover el-table--medium"},pe=e("div",{slot:"header"},[e("span",null,"\u5185\u5B58\u4FE1\u606F")],-1),ve={class:"el-table el-table--enable-row-hover el-table--medium"},Be=y({__name:"index",setup(Fe){const s=r({}),f=r(null),{setOptions:b}=h(f,"macarons"),m=r(null),{setOptions:p}=h(m,"macarons");E(()=>{x("\u6B63\u5728\u52A0\u8F7D\u7F13\u5B58\u76D1\u63A7\u6570\u636E\uFF0C\u8BF7\u7A0D\u5019\uFF01")}),k(()=>{v()});function v(){B().then(n=>{n.data&&(s.value=n.data,b({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u547D\u4EE4",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:n.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),p({tooltip:{formatter:"{b} <br/>{a} : "+s.value.info.used_memory_human},series:[{name:"\u5CF0\u503C",type:"gauge",min:0,max:1e3,detail:{formatter:s.value.info.used_memory_human},data:[{value:parseFloat(s.value.info.used_memory_human),name:"\u5185\u5B58\u6D88\u8017"}]}]}),A())})}return(n,ye)=>{const d=g,u=C,F=D;return t(),a("div",w,[i(F,null,{default:_(()=>[i(u,{span:24,class:"card-box"},{default:_(()=>[i(d,null,{default:_(()=>[O,e("div",S,[e("table",R,[e("tbody",null,[e("tr",null,[I,e("td",N,[l(s).info?(t(),a("div",V,o(l(s).info.redis_version),1)):c("",!0)]),z,e("td",L,[l(s).info?(t(),a("div",T,o(l(s).info.redis_mode=="standalone"?"\u5355\u673A":"\u96C6\u7FA4"),1)):c("",!0)]),j,e("td",q,[l(s).info?(t(),a("div",K,o(l(s).info.tcp_port),1)):c("",!0)]),M,e("td",P,[l(s).info?(t(),a("div",U,o(l(s).info.connected_clients),1)):c("",!0)])]),e("tr",null,[G,e("td",H,[l(s).info?(t(),a("div",J,o(l(s).info.uptime_in_days),1)):c("",!0)]),Q,e("td",W,[l(s).info?(t(),a("div",X,o(l(s).info.used_memory_human),1)):c("",!0)]),Y,e("td",Z,[l(s).info?(t(),a("div",$,o(parseFloat(l(s).info.used_cpu_user_children).toFixed(2)),1)):c("",!0)]),ee,e("td",se,[l(s).info?(t(),a("div",le,o(l(s).info.maxmemory_human),1)):c("",!0)])]),e("tr",null,[te,e("td",ae,[l(s).info?(t(),a("div",oe,o(l(s).info.aof_enabled=="0"?"\u5426":"\u662F"),1)):c("",!0)]),ce,e("td",ie,[l(s).info?(t(),a("div",_e,o(l(s).info.rdb_last_bgsave_status),1)):c("",!0)]),ne,e("td",de,[l(s).dbSize?(t(),a("div",ue,o(l(s).dbSize),1)):c("",!0)]),re,e("td",fe,[l(s).info?(t(),a("div",me,o(l(s).info.instantaneous_input_kbps)+"kps/"+o(l(s).info.instantaneous_output_kbps)+"kps",1)):c("",!0)])])])])])]),_:1})]),_:1}),i(u,{span:12,class:"card-box"},{default:_(()=>[i(d,null,{default:_(()=>[he,e("div",be,[e("div",{ref_key:"commandstats",ref:f,style:{height:"420px"}},null,512)])]),_:1})]),_:1}),i(u,{span:12,class:"card-box"},{default:_(()=>[i(d,null,{default:_(()=>[pe,e("div",ve,[e("div",{ref_key:"usedmemory",ref:m,style:{height:"420px"}},null,512)])]),_:1})]),_:1})]),_:1})])}}});export{Be as default};
